"use strict";(self.webpackChunkmembrace=self.webpackChunkmembrace||[]).push([[207],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return n?r.createElement(k,o(o({ref:t},u),{},{components:n})):r.createElement(k,o({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7480:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={},o="Before you begin",l={unversionedId:"api",id:"api",title:"Before you begin",description:"Your Account Manager will provide you with:",source:"@site/docs/api.md",sourceDirName:".",slug:"/api",permalink:"/api",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Request a demo",permalink:"/demo"},next:{title:"Feedback",permalink:"/feedback"}},s={},p=[{value:"Synchronous API",id:"synchronous-api",level:2},{value:"Structure",id:"structure",level:3},{value:"Payload",id:"payload",level:3},{value:"Response",id:"response",level:3},{value:"Examples",id:"examples",level:3},{value:"Text (project_id=text)",id:"text-project_idtext",level:4},{value:"Image (project_id=image)",id:"image-project_idimage",level:4},{value:"Asynchronous API",id:"asynchronous-api",level:2},{value:"Structure",id:"structure-1",level:3},{value:"Payload",id:"payload-1",level:3},{value:"Response",id:"response-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Text (project_id=text)",id:"text-project_idtext-1",level:4},{value:"Image (project_id=image)",id:"image-project_idimage-1",level:4},{value:"Retrieving Results",id:"retrieving-results",level:3},{value:"Response",id:"response-2",level:3},{value:"Example",id:"example",level:3}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"before-you-begin"},"Before you begin"),(0,a.kt)("p",null,"Your Account Manager will provide you with:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"token"),". This token will let you access your projects & data;"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"project_ID"),". This ID will be used to associate the content you send to Membrace with your specific project, which in turn lets us know what kind of moderation to perform on the content.")),(0,a.kt)("h1",{id:"sending-content-for-moderation"},"Sending Content for Moderation"),(0,a.kt)("h2",{id:"synchronous-api"},"Synchronous API"),(0,a.kt)("p",null,"Sync API implies that as soon as you send us your content, you immediately some kind of response. Responses may vary depending on the specifics of your project."),(0,a.kt)("h3",{id:"structure"},"Structure"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"POST /v1/item/process\nHost: https://api.membrace.ai\nAuthorization: <token>\n")),(0,a.kt)("h3",{id:"payload"},"Payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": <project_id>,\n    "project_version": "1",\n    "content": <content>\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"request_id")," - String. Optional. This represents the content item ID in your system;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"project_id")," - String. Required;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"project_version"),' - String. Required. Version of the project, initial value "1";'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"content")," - JSON. Required. Your content, structured in accordance with your project.")),(0,a.kt)("h3",{id:"response"},"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": <item_id>,\n    "project_id": "text",\n    "project_version": "1",\n    "status": "SUCCESS",\n    "result": <result>,\n    "error": <error>\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"request_id")," - String. Optional. Same ID as the one you've sent our way;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"item_id")," - String. Auto generated UUID-4 string, ID in Membrace system."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"status")," - String. Moderation task status (",(0,a.kt)("inlineCode",{parentName:"li"},"SUCCESS")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"FAILED"),");"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"result")," - JSON. Result of moderation, structure specified for your project. Appears only if ",(0,a.kt)("inlineCode",{parentName:"li"},"status")," is ",(0,a.kt)("inlineCode",{parentName:"li"},"SUCCESS")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"error")," - JSON. Optional. Error message. Appears only if ",(0,a.kt)("inlineCode",{parentName:"li"},"status")," returned ",(0,a.kt)("inlineCode",{parentName:"li"},"FAILED"),".")),(0,a.kt)("h3",{id:"examples"},"Examples"),(0,a.kt)("h4",{id:"text-project_idtext"},"Text (project_id=text)"),(0,a.kt)("p",null,"Request:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": "text",\n    "project_version": "1",\n    "content": {\n        "text": "Hello world"\n    }\n}\n')),(0,a.kt)("p",null,"Response (success):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "a8688067-af4c-4c6b-b37e-a9c0e878e27b",\n    "project_id": "text",\n    "project_version": "1",\n    "status": "SUCCESS",\n    "result": {\n        "alcohol": false,\n        "clean_text": true,\n        "clickbait": false,\n        "drugs": false,\n        "erotica": false,\n        "explicit": false,\n        "insult": false,\n        "insult_light": false,\n        "insult_strong": false,\n        "obscene_light": false,\n        "obscene_strong": false,\n        "personal_data": false,\n        "swearing": false\n    }\n}\n')),(0,a.kt)("p",null,"Response (failed):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "6fc3d67c-d4c4-4967-9a1d-709653649bc3",\n    "project_id": "text",\n    "project_version": "1",\n    "status": "FAILED",\n    "error": {\n        "code": "TEXT_TOO_LONG",\n        "message": "Text must be no longer than 500 chars",\n        "context": null\n    }\n}\n')),(0,a.kt)("h4",{id:"image-project_idimage"},"Image (project_id=image)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": "image",\n    "project_version": "1",\n    "content": {\n        "image_url": "https://example.com/image.png"\n    }\n}\n\n')),(0,a.kt)("p",null,"Response (success):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "938726b4-31c0-44af-a42a-95cce3f8d719",\n    "project_id": "image",\n    "project_version": "1",\n    "status": "SUCCESS",\n    "result": {\n        "clean": true,\n        "casino": false,\n        "clickbait": false,\n        "explicit": false,\n        "guns": false,\n        "illegal": false,\n        "intim_goods": false,\n        "shocking": false\n    }\n}\n')),(0,a.kt)("p",null,"Response (failed)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "1564f7ea-5d43-4931-a204-60dd5e4d48b0",\n    "project_id": "image",\n    "project_version": "1",\n    "status": "FAILED",\n    "error": {\n        "code": "DOWNLOAD_ERROR",\n        "message": "Failed to download image",\n        "context": {\n            "failed_images": [\n                "https://example.com/image.png"\n            ]\n        }\n    }\n}\n')),(0,a.kt)("h2",{id:"asynchronous-api"},"Asynchronous API"),(0,a.kt)("p",null,"Async API requires you to make a separate request in order to receive moderation results.\nIn our Async API, there are two separate requests:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Event 1: you send the content to Membrace;"),(0,a.kt)("li",{parentName:"ul"},"Event 2: you request results for processed items.")),(0,a.kt)("h3",{id:"structure-1"},"Structure"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"POST /v1/item/process\nHost: https://api.membrace.ai\nAuthorization: <token>\n")),(0,a.kt)("h3",{id:"payload-1"},"Payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": <project_id>,\n    "project_version": "1",\n    "content": <content>\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"request_id")," - String. Optional. This represents the content item ID in your system;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"project_id")," - String. Required;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"project_version"),' - String. Required. Version of the project, initial value "1";'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"content")," - JSON. Required. Your content, structured in accordance with your project.")),(0,a.kt)("h3",{id:"response-1"},"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": <item_id>,\n    "project_id": "text",\n    "project_version": "1",\n    "status": "PENDING"\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"request_id")," - String. Optional. Same ID as the one you've sent our way;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"item_id")," - String. Auto generated UUID-4 string, ID in Membrace system."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"status")," - String. Moderation task status (only ",(0,a.kt)("inlineCode",{parentName:"li"},"PENDING")," value for Asynchronous API);")),(0,a.kt)("h3",{id:"examples-1"},"Examples"),(0,a.kt)("h4",{id:"text-project_idtext-1"},"Text (project_id=text)"),(0,a.kt)("p",null,"Request:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": "text",\n    "project_version": "1",\n    "content": {\n        "text": "Hello world"\n    }\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "d9c8bfbe-8632-474e-a117-31df356199b5",\n    "project_id": "text",\n    "project_version": "1",\n    "status": "PENDING"\n}\n')),(0,a.kt)("h4",{id:"image-project_idimage-1"},"Image (project_id=image)"),(0,a.kt)("p",null,"Request:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "project_id": "image",\n    "project_version": "1",\n    "content": {\n        "image_url": "https://example.com/image.png"\n    }\n}\n')),(0,a.kt)("p",null,"Response:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "request_id": "42",\n    "item_id": "d48c06b7-7c79-4890-b274-d05353f43b61",\n    "project_id": "image",\n    "project_version": "1",\n    "status": "PENDING"\n}\n')),(0,a.kt)("h3",{id:"retrieving-results"},"Retrieving Results"),(0,a.kt)("p",null,"In order to get the results, it's recommended that you GET them sorted by time of completion. You will receive the first N items as the response, with N depending on specifics of your project.\nIn order to receive the next items, please save the ",(0,a.kt)("inlineCode",{parentName:"p"},"next_results")," & use it as the ",(0,a.kt)("inlineCode",{parentName:"p"},"next_results")," variable.\nYou can skip this variable on the first query or use datetime filters."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"GET /v1/item/results?project_id=<project_id>&project_version=<project_version>&status=finished&next_results=<next_results>\nHost: https://api.membrace.ai\nAuthorization: <token>\n")),(0,a.kt)("h3",{id:"response-2"},"Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "items": [<list_of_items>],\n    "has_more": false,\n    "next_results": "177771999702"\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"has_more")," \u2013 if the response contains more than the initial 100 items, this value will be set to ",(0,a.kt)("inlineCode",{parentName:"li"},"true"))),(0,a.kt)("h3",{id:"example"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "items": [\n        {\n            "request_id": "42",\n            "item_id": "c9cc1f01-2e46-4384-87a4-8f775fdf8c3d",\n            "project_id": "text",\n            "project_version": "1",\n            "status": "SUCCESS",\n            "result": {\n                "alcohol": false,\n                "clean_text": true,\n                "clickbait": false,\n                "drugs": false,\n                "erotica": false,\n                "explicit": false,\n                "insult": false,\n                "insult_light": false,\n                "insult_strong": false,\n                "obscene_light": false,\n                "obscene_strong": false,\n                "personal_data": false,\n                "swearing": false\n            }\n        }\n    ],\n    "has_more": false,\n    "next_results": "177771999702"\n}\n')))}c.isMDXComponent=!0}}]);